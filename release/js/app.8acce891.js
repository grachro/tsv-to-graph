(function(t){function e(e){for(var o,a,d=e[0],i=e[1],s=e[2],u=0,p=[];u<d.length;u++)a=d[u],Object.prototype.hasOwnProperty.call(l,a)&&l[a]&&p.push(l[a][0]),l[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],o=!0,d=1;d<n.length;d++){var i=n[d];0!==l[i]&&(o=!1)}o&&(r.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},l={app:0},r=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],i=d.push.bind(d);d.push=e,d=d.slice();for(var s=0;s<d.length;s++)e(d[s]);var c=i;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),l={id:"top-panel"},r=Object(o["d"])("h1",null,"tsv-to-graph",-1),a=Object(o["d"])("span",{id:"top-tsv-span"},"tsv --\x3e|",-1),d=Object(o["d"])("span",{id:"top-graph-span"},"<-- graph",-1),i=Object(o["d"])("input",{id:"search-input"},null,-1),s=Object(o["d"])("button",{id:"search-btn"},"find by id",-1),c=Object(o["d"])("span",{style:{display:"inline-block",width:"10px"}},null,-1),u=Object(o["d"])("span",null,"pan&zoom",-1),p=Object(o["d"])("button",{id:"pan-zoom-fit-btn"},"fit",-1),g=Object(o["d"])("button",{id:"pan-zoom-reset-btn"},"100%",-1),f=Object(o["d"])("span",{style:{display:"inline-block",width:"10px"}},null,-1),y=Object(o["d"])("button",{id:"refresh-btn"},"refresh layout",-1),b={id:"side-panel"},h={id:"side-panel_contents"},v=Object(o["d"])("br",null,null,-1),m=Object(o["d"])("br",null,null,-1),j=Object(o["d"])("button",{id:"import-btn",onclick:"document.getElementById('import-file').click();"},"import from tsv",-1),x=Object(o["d"])("br",null,null,-1),O=Object(o["d"])("br",null,null,-1),k=Object(o["e"])('<br><br> input tsv <button id="replace-form-tsv-btn">replace all</button><button id="tsv-merge-btn">nodes merge</button><br><textarea id="import-tsv-textarea" cols="30" rows="2" style="width:350px;max-width:350px;"></textarea><br> output tsv<br><textarea id="export-tsv-textarea" cols="30" rows="6" style="width:350px;max-width:350px;"></textarea><br> selected node: <span id="selected-node-span"></span><br><br>',16),_=Object(o["d"])("br",null,null,-1),w=Object(o["d"])("button",{id:"export-meta-btn"},"export Cytoscape.js json",-1),E=Object(o["d"])("br",null,null,-1),I=Object(o["d"])("br",null,null,-1),T=Object(o["f"])(" powered by Cytoscape.js "),B=Object(o["d"])("div",{id:"cy"},null,-1);function S(t,e,n,S,N,F){var C=Object(o["k"])("id");return Object(o["i"])(),Object(o["c"])(o["a"],null,[Object(o["d"])("div",l,[r,a,d,Object(o["g"])(C,{id:"top-left-panel"},{default:Object(o["n"])((function(){return[i,s,c,u,p,g,f,y]})),_:1})]),Object(o["d"])("div",b,[Object(o["d"])("div",h,[Object(o["d"])("span",null,Object(o["l"])(t.importedFileName),1),v,Object(o["d"])("input",{id:"import-file",type:"file",onChange:e[0]||(e[0]=function(){return F.changeImportFileTag&&F.changeImportFileTag.apply(F,arguments)})},null,32),m,j,x,O,Object(o["d"])("button",{onClick:e[1]||(e[1]=function(){return F.clickExportTsvBtn&&F.clickExportTsvBtn.apply(F,arguments)})},"export to tsv"),k,Object(o["d"])("button",{onClick:e[2]||(e[2]=function(){return F.clickExportSvgBtn&&F.clickExportSvgBtn.apply(F,arguments)})},"export svg"),Object(o["d"])("span",null,Object(o["l"])(t.svgFileName),1),_,w,E,I,T])]),B],64)}n("b0c0"),n("8a79");var N=n("b85c"),F=(n("d3b7"),n("6062"),n("3ca3"),n("ddb0"),n("7db0"),n("2b3d"),n("9861"),n("159b"),n("c740"),n("a434"),n("e9c4"),n("44e1")),C=n.n(F),A=n("0f53"),P=n.n(A),L=n("1776"),M=n.n(L),z=n("2701"),R=n.n(z),W="#type\tid\tlabel\tnodeType\tparent\tx\ty\n#====\nnode\tn1\tnode 1\tTypeA\t\t\t\nnode\tn2\tnode 2\tTypeA\t\t\t\nnode\tn3\tnode 3\tTypeA\t\t\t\nnode\tn4\tnode 4\tTypeA\t\t\t\nnode\tn5\tnode 5\tTypeB\tn10\t\t\nnode\tn6\tnode 6\tTypeB\tn10\t\t\nnode\tn7\tnode 7\t\tn11\t\t\nnode\tn8\tnode 8\tTypeC\tn11\t\t\nnode\tn9\tnode 9\t\tn12\t\t\nnode\tn10\tnode 10\t\t\t\t\nnode\tn11\tnode 11\t\tn13\t\t\nnode\tn12\tnode 12\t\tn13\t\t\nnode\tn13\tnode 13\t\t\t\t\n\n#type\tsource\ttarget\ttargetType\n#====\nedge\tn1\tn2\nedge\tn1\tn3\tTypeO\nedge\tn3\tn4\t\nedge\tn2\tn4\tTypeP\nedge\tn4\tn5\nedge\tn5\tn6\nedge\tn7\tn8\nedge\tn6\tn7\tTypeQ\nedge\tn11\tn12\tTypeR\nedge\tn2\tn12\n\n",J="\n#type\tselector\tbackground-color\tshape\tlabel\tpadding\twidth\theight\ttext-halign\ttext-valign\tbackground-opacity\tborder-color\tborder-style\tborder-width\n#====\t\t\t\t\t\t\t\t\t\t\t\t\t\nnode-style\tnode\t#ddd\tround-rectangle\tdata(label)\t10px\tlabel\tlabel\tcenter\tcenter\t\t\t\t\nnode-style\tnode.normalNode\t#ff7f7f\t\t\t\t\t\t\t\t\t\t\t\nnode-style\tnode:parent\t#7f7fff\t\tdata(label)\t10px\t\t\tcenter\ttop\t0.1\t\t\t\nnode-style\tnode.__position-locked__\t\t\t\t\t\t\t\t\t\t#000\tsolid\t2px\nnode-style\tnode:selected\t\t\t\t\t\t\t\t\t\t#ff0a0a\tsolid\t3px\nnode-style\tnode.TypeA\t#7fbfff\t\nnode-style\tnode.TypeB\t\tround-octagon\nnode-style\tnode.TypeC\t#ff7f7f\tellipse\n\n#type\tselector\tline-color\tline-style\tcurve-style\ttarget-arrow-shape\n#====\t\t\t\t\t\nedge-style\tedge\t\t\tbezier\ttriangle\nedge-style\tedge.TypeO\trgb(191,127,255)\tsolid\t\t\nedge-style\tedge.TypeP\t\tdotted\t\t\nedge-style\tedge.TypeQ\trgb(255,191,127)\t\t\t\nedge-style\tedge.TypeR\trgb(255,191,127)\tdashed\t\t\nedge-style\tedge:selected\t#ff0a0a\t\t\t\n";function U(t,e,n,o){var l=[{id:"lockPosition",content:"lock position",tooltipText:"lock position",selector:"node[!.__position-locked__]",onClickFunction:function(e){var n=e.target||e.cyTarget;t(n)}},{id:"unlockPosition",content:"unlock position",tooltipText:"unlock position",selector:"node.__position-locked__",onClickFunction:function(t){var n=t.target||t.cyTarget;e(n)},hasTrailingDivider:!0},{id:"selectFirstNeighborhood",content:"select first neighborhood",tooltipText:"select first neighborhood",selector:"node",onClickFunction:function(t){var e=t.target||t.cyTarget;n(e)}},{id:"deleteNodes",content:"delete nodes",tooltipText:"delete nodes",selector:"node",onClickFunction:function(t){var e=t.target||t.cyTarget;o(e)}}];return l}n("ac1f"),n("1276"),n("2ca0");function D(t){var e,n=[],o=[],l=[],r=[],a=[],d=new Set,i=t.split("\n"),s=Object(N["a"])(i);try{for(s.s();!(e=s.n()).done;){var c=e.value;if(c&&!c.empty&&!c.startsWith("#")&&!c.startsWith("\t")){var u=c.split("\t");if("node"==u[0]&&u.length>=3){var p=Q(l,u);n.push(p),d.add(p.data.id)}else if("edge"==u[0]&&u.length>=2){var g=H(u);o.push(g)}else if("node-style"==u[0]&&u.length>=3){var f=u[1],y=u.length>=3?u[2]:null,b=u.length>=4?u[3]:null,h=u.length>=5?u[4]:null,v=u.length>=6?u[5]:null,m=u.length>=7?u[6]:null,j=u.length>=8?u[7]:null,x=u.length>=9?u[8]:null,O=u.length>=10?u[9]:null,k=u.length>=11?u[10]:null,_=u.length>=12?u[11]:null,w=u.length>=13?u[12]:null,E=u.length>=14?u[13]:null;r.push({selector:f,backgroundColor:y,shape:b,label:h,padding:v,width:m,height:j,text_halign:x,text_valign:O,background_opacity:k,border_color:_,border_style:w,border_width:E})}else if("edge-style"==u[0]&&u.length>=2){var I=u[1],T=u.length>=3?u[2]:null,B=u.length>=4?u[3]:null,S=u.length>=5?u[4]:null,F=u.length>=6?u[5]:null;a.push({selector:I,lineColor:T,lineStyle:B,curveStyle:S,targetArrowShape:F})}else console.error("tsv err line:"+c)}}}catch(J){s.e(J)}finally{s.f()}for(var C=new Set,A=0,P=o;A<P.length;A++){var L=P[A];d.has(L.data.source)||C.add(L.data.source),d.has(L.data.target)||C.add(L.data.target)}var M,z=Object(N["a"])(C);try{for(z.s();!(M=z.n()).done;){var R=M.value,W={data:{id:R,label:R}};n.push(W)}}catch(J){z.e(J)}finally{z.f()}return{nodes:n,edges:o,lockNodes:l,nodeStyles:r,lineStyles:a}}function Q(t,e){var n=e[1],o=e[2],l=e.length>=4?e[3]:null,r=e.length>=5&&e[4]?e[4]:null,a=e.length>=6?e[5]:null,d=e.length>=7?e[6]:null,i={data:{id:n,label:o}},s=l?l.split(" "):[];return a&&d&&s.push("__position-locked__"),i["classes"]=s,i.data["parent"]=r,a&&d&&t.push({nodeId:n,position:{x:parseInt(a),y:parseInt(d)}}),i}function H(t){var e=t[1],n=t[2],o=t.length>=4?t[3]:null,l={data:{id:e+"_"+n,source:e,target:n}},r=o?o.split(" "):[];return l["classes"]=r,l}var q="#====\n";function G(t,e){var n=t.json(),o="";o+=K(t.nodes(),e),o+="\n",o+=V(t.edges());var l=[],r=[];if(n.style){var a,d=Object(N["a"])(n.style);try{for(d.s();!(a=d.n()).done;){var i=a.value,s=i.selector;s.startsWith("node")?l.push(i):s.startsWith("edge")?r.push(i):console.warn("skip selector::"+s)}}catch(R){d.e(R)}finally{d.f()}}o+="\n";var c="#type\tselector\tbackground-color\tshape\tlabel\tpadding\twidth\theight\ttext-halign\ttext-valign\tbackground-opacity\tborder-color\tborder-style\tborder-width\n";if(o+=c,o+=q,l.length>0){var u,p=Object(N["a"])(l);try{for(p.s();!(u=p.n()).done;){var g=u.value,f=g.selector,y=g.style["background-color"]||"",b=g.style["shape"]||"",h=g.style["label"]||"",v=g.style["padding"]||"",m=g.style["width"]||"",j=g.style["height"]||"",x=g.style["text-halign"]||"",O=g.style["text-valign"]||"",k=g.style["background-opacity"]||"",_=g.style["border-color"]||"",w=g.style["border-style"]||"",E=g.style["border-width"]||"",I="node-style\t";I+=f+"\t",I+=y+"\t",I+=b+"\t",I+=h+"\t",I+=v+"\t",I+=m+"\t",I+=j+"\t",I+=x+"\t",I+=O+"\t",I+=k+"\t",I+=_+"\t",I+=w+"\t",I+=E+"\n",o+=I}}catch(R){p.e(R)}finally{p.f()}}else o+="#empty node-styles\n";o+="\n";var T="#type\tselector\tline-color\tline-style\tcurve-style\ttarget-arrow-shape\n";if(o+=T,o+=q,r.length>0){var B,S=Object(N["a"])(r);try{for(S.s();!(B=S.n()).done;){var F=B.value,C=F.selector,A=F.style["line-color"]||"",P=F.style["line-style"]||"",L=F.style["curve-style"]||"",M=F.style["target-arrow-shape"]||"",z="edge-style\t";z+=C+"\t",z+=A+"\t",z+=P+"\t",z+=L+"\t",z+=M+"\n",o+=z}}catch(R){S.e(R)}finally{S.f()}}else o+="#empty edge-styles\n";return o}function K(t,e){var n="#type\tnodeId\tlabel\tnodeType\tparentNodeId\tx\ty\n",o=n;if(o+=q,!t||0==t.length)return o+="#empty nodes\n",o;var l,r=Object(N["a"])(t.jsons());try{for(r.s();!(l=r.n()).done;){var a,d=l.value,i=d.data.id,s=d.data.label,c=d.classes||"",u=d.data.parent||"",p=[],g=Object(N["a"])(c.split(" "));try{for(g.s();!(a=g.n()).done;){var f=a.value;f&&"__position-locked__"!=f&&p.push(f)}}catch(m){g.e(m)}finally{g.f()}var y=e.has(i),b=y?parseInt(d.position.x):"",h=y?parseInt(d.position.y):"",v="node\t"+i+"\t"+s+"\t"+p+"\t"+u+"\t"+b+"\t"+h;o+=v+"\n"}}catch(m){r.e(m)}finally{r.f()}return o}function V(t){var e="#type\tsourceNodeId\ttargetNodeId\n",n=e;if(n+=q,!t||0==t.length)return n+="#empty edges\n",n;var o,l=Object(N["a"])(t.jsons());try{for(l.s();!(o=l.n()).done;){var r=o.value,a=r.data.source,d=r.data.target,i=r.classes||"",s="edge\t"+a+"\t"+d+"\t"+i;n+=s+"\n"}}catch(c){l.e(c)}finally{l.f()}return n}function X(t,e){var n="",o=t.collection();return t.nodes(":selected").forEach((function(t){console.log("node="+t.id()),o=o.union(t)})),console.log("nodeList="+o.length),n+=K(o,e),n+="\n",n+=V(t.edges(":selected")),n}var Y={getElmFromEvent:function(t,e){return e.target?e.target===t?null:e.target.data?e.target:null:null}};C.a.use(P.a),C.a.use(M.a),C.a.use(R.a);var Z=C()(),$=new Set;function tt(t){var e,n=[],o=Object(N["a"])($.values());try{var l=function(){var o=e.value,l=Z.getElementById(o);if(l||console.warn("node is nothing. id="+o),t){var r=t.find((function(t){return t.nodeId==o})),a=l.id(),d=r.position.x,i=r.position.y;n.push({nodeId:a,position:{x:parseInt(d),y:parseInt(i)}})}else{var s=l.id(),c=l.position().x,u=l.position().y;n.push({nodeId:s,position:{x:parseInt(c),y:parseInt(u)}})}};for(o.s();!(e=o.n()).done;)l()}catch(r){o.e(r)}finally{o.f()}Z.layout({name:"fcose",fixedNodeConstraint:n}).run()}function et(t){var e=D(t),n=D(J);Z.elements().remove(),Z.json({elements:{nodes:e.nodes,edges:e.edges}}),$.clear();var o,l=Object(N["a"])(e.lockNodes);try{for(l.s();!(o=l.n()).done;){var r=o.value;$.add(r.nodeId)}}catch(h){l.e(h)}finally{l.f()}tt(e.lockNodes),Z.style().resetToDefault().update();var a=[],d=e.nodeStyles;0==d.length&&(d=n.nodeStyles);var i,s=Object(N["a"])(d);try{for(s.s();!(i=s.n()).done;){var c=i.value,u={};c.backgroundColor&&(u["background-color"]=c.backgroundColor),c.shape&&(u["shape"]=c.shape),c.label&&(u["label"]=c.label),c.padding&&(u["padding"]=c.padding),c.width&&(u["width"]=c.width),c.height&&(u["height"]=c.height),c.text_halign&&(u["text-halign"]=c.text_halign),c.text_valign&&(u["text-valign"]=c.text_valign),c.background_opacity&&(u["background-opacity"]=c.background_opacity),c.border_color&&(u["border-color"]=c.border_color),c.border_style&&(u["border-style"]=c.border_style),c.border_width&&(u["border-width"]=c.border_width),a.push({selector:c.selector,style:u})}}catch(h){s.e(h)}finally{s.f()}var p=e.lineStyles;0==p.length&&(p=n.lineStyles);var g,f=Object(N["a"])(p);try{for(f.s();!(g=f.n()).done;){var y=g.value,b={};y.lineColor&&(b["line-color"]=y.lineColor,b["target-arrow-color"]=y.lineColor),y.lineStyle&&(b["line-style"]=y.lineStyle),y.curveStyle&&(b["curve-style"]=y.curveStyle),y.targetArrowShape&&(b["target-arrow-shape"]=y.targetArrowShape),a.push({selector:y.selector,style:b})}}catch(h){f.e(h)}finally{f.f()}Z.style(a).update()}function nt(t){var e=G(Z,$);ct(t,e)}function ot(t){var e,n=D(t),o=Object(N["a"])(n.nodes);try{for(o.s();!(e=o.n()).done;){var l=e.value,r=l.data.id,a=Z.getElementById(r);if(a.data()){a.data("label",l.data.label),a.data("parent",l.data.parent),$.has(r)&&l.classes.push("__position-locked__"),a.classes(l.classes);var d=l.data.parent;a.move({parent:d})}else Z.add(l)}}catch(f){o.e(f)}finally{o.f()}var i,s=Object(N["a"])(n.edges);try{for(s.s();!(i=s.n()).done;){var c=i.value,u=c.data.id,p=Z.getElementById(u);if(p.data()){var g=c.classes;p.classes(g)}else Z.add(c)}}catch(f){s.e(f)}finally{s.f()}}function lt(t){var e=document.createElement("a");e.setAttribute("href",rt()),e.setAttribute("download",t),e.click()}var rt=function(){var t=Z.svg({scale:1,full:!0}),e=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),n=URL.createObjectURL(e);return n},at=function(t){if(!t.isParent()){var e=Z.collection();e=e.union(t),Z.nodes(":selected").forEach((function(t){e=e.union(t)})),e.forEach((function(t){t.addClass("__position-locked__");var e=t.id();$.add(e)}))}},dt=function(t){if(!t.isParent()){t.removeClass("__position-locked__");var e=$.data.findIndex((function(e){return e==t.id()}));$.data.splice(e,1)}},it=function(t){var e=t.edgesWith("*").connectedNodes();e.select()},st=function(t){var e=Z.collection();e=e.union(t),Z.nodes(":selected").forEach((function(t){e=e.union(t)})),e.remove()},ct=function(t,e){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),n.setAttribute("download",t),n.click()};function ut(){Z=C()({container:document.getElementById("cy")});var t=Z.contextMenus();t.appendMenuItems(U(at,dt,it,st)),document.getElementById("pan-zoom-fit-btn").addEventListener("click",(function(){Z.fit()})),document.getElementById("pan-zoom-reset-btn").addEventListener("click",(function(){Z.reset()})),document.getElementById("refresh-btn").addEventListener("click",(function(){tt()})),document.getElementById("export-meta-btn").addEventListener("click",(function(){var t=JSON.stringify(Z.json());ct("meta.json",t)})),Z.on("click",(function(t){var e=document.getElementById("selected-node-span"),n=Y.getElmFromEvent(Z,t);e.innerHTML=n?"["+n.id()+"]:"+n.data().label:"";var o=X(Z,$);document.getElementById("export-tsv-textarea").value=o})),document.getElementById("replace-form-tsv-btn").addEventListener("click",(function(){var t=document.getElementById("import-tsv-textarea").value;et(t)})),document.getElementById("tsv-merge-btn").addEventListener("click",(function(){var t=document.getElementById("import-tsv-textarea").value;ot(t)})),document.getElementById("search-btn").addEventListener("click",(function(){var t=document.getElementById("search-input").value;Z.elements().unselect(),Z.getElementById(t).select()})),et(W+J)}var pt={name:"App",data:function(){return{importedFileName:"no tilte",svgFileName:"graph.svg"}},components:{},methods:{changeImportFileTag:function(t){var e=t.target.files[0],n=new FileReader;n.addEventListener("load",(function(t){var e=t.target.result;et(e)})),n.readAsText(e),this.importedFileName=e.name,this.importedFileName.endsWith(".tsv")?this.svgFileName=this.importedFileName.substring(0,this.importedFileName.length-4)+".svg":this.svgFileName=this.importedFileName+".svg"},clickExportTsvBtn:function(){nt(this.importedFileName)},clickExportSvgBtn:function(){lt(this.svgFileName)}},mounted:function(){ut()}},gt=(n("c22f"),n("6b0d")),ft=n.n(gt);const yt=ft()(pt,[["render",S]]);var bt=yt,ht=n("5502"),vt=Object(ht["a"])({state:{},mutations:{},actions:{},modules:{}});Object(o["b"])(bt).use(vt).mount("#app")},"724d":function(t,e,n){},c22f:function(t,e,n){"use strict";n("724d")}});
//# sourceMappingURL=app.8acce891.js.map